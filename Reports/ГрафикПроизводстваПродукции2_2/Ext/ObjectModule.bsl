#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда
	
#Область ОбработчикиСобытий

Процедура ПриКомпоновкеРезультата(ДокументРезультат, ДанныеРасшифровки, СтандартнаяОбработка)
	
	// Установка параметров
	
	КомпоновкаДанныхКлиентСервер.УстановитьПараметр(
		КомпоновщикНастроек,
		"ОбозначениеЭтап",
		НСтр("ru='Этап';uk='Етап'"));
	
	КомпоновкаДанныхКлиентСервер.УстановитьПараметр(
		КомпоновщикНастроек,
		"ОбозначениеИзделие",
		НСтр("ru='Изделие';uk='Виріб'"));
		
	КомпоновкаДанныхКлиентСервер.УстановитьПараметр(
		КомпоновщикНастроек,
		"Итого",
		НСтр("ru='Итого';uk='Разом'"));
	
	КомпоновкаДанныхКлиентСервер.УстановитьПараметр(
		КомпоновщикНастроек,
		"СтатусГрафика",
		РегистрыСведений.ГрафикЭтаповПроизводства2_2.СтатусРабочийГрафик());
	
	// Подстановка текста параметров
	
	НаборДанных = СхемаКомпоновкиДанных.НаборыДанных.Найти("ГрафикПроизводства");
	
	ТекстЗапроса = НаборДанных.Запрос;
	
	ТекстЗапроса = СтрЗаменить(
		ТекстЗапроса,
		"&КоэффициентУпаковкиПлан",
		Справочники.УпаковкиЕдиницыИзмерения.ТекстЗапросаКоэффициентаУпаковки(
			"ЭтапПроизводства2_2.УпаковкаПлан",
			"ЭтапПроизводства2_2.ПартияПроизводства.ОсновноеИзделиеНоменклатура"));
	
	ТекстЗапроса = СтрЗаменить(
		ТекстЗапроса,
		"&КоэффициентУпаковкиОтменено",
		Справочники.УпаковкиЕдиницыИзмерения.ТекстЗапросаКоэффициентаУпаковки(
			"ЭтапПроизводства2_2.УпаковкаОтменено",
			"ЭтапПроизводства2_2.ПартияПроизводства.ОсновноеИзделиеНоменклатура"));
	
	ТекстЗапроса = СтрЗаменить(
		ТекстЗапроса,
		"&КоэффициентУпаковкиФакт",
		Справочники.УпаковкиЕдиницыИзмерения.ТекстЗапросаКоэффициентаУпаковки(
			"ЭтапПроизводства2_2.УпаковкаФакт",
			"ЭтапПроизводства2_2.ПартияПроизводства.ОсновноеИзделиеНоменклатура"));
	
	НаборДанных.Запрос = ТекстЗапроса;
	
КонецПроцедуры

#КонецОбласти

#КонецЕсли
