<ПравилаОбмена>
<ВерсияФормата РежимСовместимости="">2.01</ВерсияФормата>
<Ид>b372578a-fa1f-43d1-adfa-f4a2159443ee0001</Ид>
<Наименование>Казначейство --> BASБухгалтерия</Наименование>
<ДатаВремяСоздания>2022-10-25T00:39:21</ДатаВремяСоздания>
<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="1.0.1.45" СинонимКонфигурации="Казначейство">Казначейство</Источник>
<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.1.21.3" СинонимКонфигурации="Business automation software for accounting">BASБухгалтерия</Приемник>
<Параметры/>
<Обработки/>
<ПравилаКонвертацииОбъектов>
<Группа>
<Код>Справочники</Код>
<Наименование>Справочники</Наименование>
<Порядок>50</Порядок>
<Правило>
<Код>Организации</Код>
<Наименование>Справочник: Организации</Наименование>
<Порядок>50</Порядок>
<ПоследовательностьПолейПоиска>Если НомерВариантаПоиска = 1 Тогда Запрос = Новый Запрос; Запрос.УстановитьПараметр("КодПоЕДРПОУ", ПараметрыОбъекта["КодПоЕДРПОУ"]); Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1 | КодыОрганизацииСрезПоследних.Организация |ИЗ | РегистрСведений.КодыОрганизации.СрезПоследних КАК КодыОрганизацииСрезПоследних |ГДЕ | КодыОрганизацииСрезПоследних.КодПоЕДРПОУ = &КодПоЕДРПОУ"; РезультатЗапроса = Запрос.Выполнить().Выбрать(); Если РезультатЗапроса.Следующий() Тогда ПрекратитьПоиск = Истина; СсылкаНаОбъект = РезультатЗапроса.Организация; КонецЕсли; КонецЕсли;</ПоследовательностьПолейПоиска>
<НеЗамещать>true</НеЗамещать>
<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
<Источник>СправочникСсылка.Организации</Источник>
<Приемник>СправочникСсылка.Организации</Приемник>
<Свойства>
<Свойство Поиск="true">
<Код>1</Код>
<Наименование>Код --> Код</Наименование>
<Порядок>50</Порядок>
<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>2</Код>
<Наименование>Наименование --> Наименование</Наименование>
<Порядок>100</Порядок>
<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>4</Код>
<Наименование>ОсновнойБанковскийСчет --> ОсновнойБанковскийСчет</Наименование>
<Порядок>200</Порядок>
<Источник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<Приемник Имя="ОсновнойБанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<КодПравилаКонвертации>БанковскиеСчета </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>5</Код>
<Наименование>ПометкаУдаления --> ПометкаУдаления</Наименование>
<Порядок>250</Порядок>
<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
</Свойство>
<Свойство>
<Код>6</Код>
<Наименование>Префикс --> Префикс</Наименование>
<Порядок>250</Порядок>
<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство Поиск="true">
<Код>3</Код>
<Наименование>ЕГРПОУ --> КодПоЕДРПОУ</Наименование>
<Порядок>300</Порядок>
<Источник Имя="ЕГРПОУ" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
<Правило>
<Код>БанковскиеСчета</Код>
<Наименование>Справочник: Банковские счета</Наименование>
<Порядок>100</Порядок>
<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.ВалютаДенежныхСредств) Тогда Объект.ВалютаДенежныхСредств = Константы.ВалютаРегламентированногоУчета.Получить(); КонецЕсли; Если Не ЗначениеЗаполнено(Объект.ВидСчета) Тогда Объект.ВидСчета = "Поточний"; КонецЕсли;</ПослеЗагрузки>
<ПоследовательностьПолейПоиска>Запрос = Новый Запрос; Запрос.Текст= "ВЫБРАТЬ | БанковскиеСчета.Ссылка |ИЗ | Справочник.БанковскиеСчета КАК БанковскиеСчета |ГДЕ | БанковскиеСчета.НомерСчета ПОДОБНО &НомерСчета //| И БанковскиеСчета.ВалютаДенежныхСредств = &ВалютаДенежныхСредств | И БанковскиеСчета.Владелец = &Владелец" ; ЗАпрос.УстановитьПараметр("НомерСчета","%"+СвойстваПоиска["НомерСчета"]); //ЗАпрос.УстановитьПараметр("ВалютаДенежныхСредств",СвойстваПоиска["ВалютаДенежныхСредств"]); ЗАпрос.УстановитьПараметр("Владелец",СвойстваПоиска["Владелец"]); //Сообщить("**************************Начало поиска банк счета "+ СсылкаНаОбъект); Выборка = Запрос.Выполнить().Выбрать(); Если Выборка.Следующий() Тогда СсылкаНаОбъект = Выборка.Ссылка; //Сообщить("************************** нашли по УПР КОДУ "+ СсылкаНаОбъект); ПрекратитьПоиск =Истина; КонецЕсли;</ПоследовательностьПолейПоиска>
<НеЗамещать>true</НеЗамещать>
<Источник>СправочникСсылка.БанковскиеСчета</Источник>
<Приемник>СправочникСсылка.БанковскиеСчета</Приемник>
<Свойства>
<Свойство Поиск="true">
<Код>1</Код>
<Наименование>Владелец --> Владелец</Наименование>
<Порядок>50</Порядок>
<Источник Имя="Владелец" Вид="Свойство"/>
<Приемник Имя="Владелец" Вид="Свойство"/>
</Свойство>
<Свойство>
<Код>2</Код>
<Наименование>Код --> Код</Наименование>
<Порядок>100</Порядок>
<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>3</Код>
<Наименование>Наименование --> Наименование</Наименование>
<Порядок>150</Порядок>
<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>4</Код>
<Наименование>Банк --> Банк</Наименование>
<Порядок>200</Порядок>
<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
<КодПравилаКонвертации>Банки </КодПравилаКонвертации>
</Свойство>
<Свойство Поиск="true">
<Код>5</Код>
<Наименование>НомерСчета --> НомерСчета</Наименование>
<Порядок>250</Порядок>
<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>6</Код>
<Наименование>ПометкаУдаления --> ПометкаУдаления</Наименование>
<Порядок>300</Порядок>
<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
<Правило>
<Код>Контрагенты</Код>
<Наименование>Справочник: Контрагенты</Наименование>
<Порядок>150</Порядок>
<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда Отказ = Истина; КонецЕсли;</ПередВыгрузкой>
<НеЗамещать>true</НеЗамещать>
<Источник>СправочникСсылка.Контрагенты</Источник>
<Приемник>СправочникСсылка.Контрагенты</Приемник>
<Свойства>
<Свойство>
<Код>1</Код>
<Наименование>Код --> Код</Наименование>
<Порядок>50</Порядок>
<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>2</Код>
<Наименование>Наименование --> Наименование</Наименование>
<Порядок>100</Порядок>
<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство Поиск="true">
<Код>19</Код>
<Наименование>ЕГРПОУ --> КодПоЕДРПОУ</Наименование>
<Порядок>200</Порядок>
<Источник Имя="ЕГРПОУ" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>18</Код>
<Наименование>НаименованиеПолное --> НаименованиеПолное</Наименование>
<Порядок>300</Порядок>
<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство Поиск="true" Обязательное="true">
<Код>4</Код>
<Наименование>ЭтоГруппа --> ЭтоГруппа</Наименование>
<Порядок>300</Порядок>
<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
<Правило>
<Код>Банки</Код>
<Наименование>Справочник: Банки</Наименование>
<Порядок>200</Порядок>
<НеЗамещать>true</НеЗамещать>
<Источник>СправочникСсылка.Банки</Источник>
<Приемник>СправочникСсылка.Банки</Приемник>
<Свойства>
<Свойство Поиск="true">
<Код>1</Код>
<Наименование>МФО --> Код</Наименование>
<Порядок>50</Порядок>
<Источник Имя="МФО" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
<ПриводитьКДлине>9</ПриводитьКДлине>
</Свойство>
<Свойство>
<Код>2</Код>
<Наименование>Наименование --> Наименование</Наименование>
<Порядок>100</Порядок>
<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>3</Код>
<Наименование>ПометкаУдаления --> ПометкаУдаления</Наименование>
<Порядок>150</Порядок>
<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
<Правило>
<Код>ДоговорыКонтрагентов</Код>
<Наименование>Справочник: Договоры контрагентов</Наименование>
<Порядок>250</Порядок>
<НеЗамещать>true</НеЗамещать>
<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
<Свойства>
<Свойство Поиск="true">
<Код>6</Код>
<Наименование>ВидДоговора --> ВидДоговора</Наименование>
<Порядок>50</Порядок>
<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
<КодПравилаКонвертации>ВидыДоговоровКонтрагентов </КодПравилаКонвертации>
</Свойство>
<Свойство Поиск="true">
<Код>1</Код>
<Наименование>Владелец --> Владелец</Наименование>
<Порядок>100</Порядок>
<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
<КодПравилаКонвертации>Контрагенты </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>3</Код>
<Наименование>Код --> Код</Наименование>
<Порядок>150</Порядок>
<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>4</Код>
<Наименование>Наименование --> Наименование</Наименование>
<Порядок>200</Порядок>
<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>7</Код>
<Наименование>Организация --> Организация</Наименование>
<Порядок>250</Порядок>
<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
<КодПравилаКонвертации>Организации </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>8</Код>
<Наименование>ПометкаУдаления --> ПометкаУдаления</Наименование>
<Порядок>300</Порядок>
<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
<Правило>
<Код>Валюты</Код>
<Наименование>Справочник: Валюты</Наименование>
<Порядок>300</Порядок>
<НеЗамещать>true</НеЗамещать>
<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
<Источник>СправочникСсылка.Валюты</Источник>
<Приемник>СправочникСсылка.Валюты</Приемник>
<Свойства>
<Свойство Поиск="true">
<Код>1</Код>
<Наименование>Код --> Код</Наименование>
<Порядок>50</Порядок>
<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>2</Код>
<Наименование>Наименование --> Наименование</Наименование>
<Порядок>100</Порядок>
<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
<Правило>
<Код>Пользователи</Код>
<Наименование>Справочник: Пользователи</Наименование>
<Порядок>350</Порядок>
<НеЗамещать>true</НеЗамещать>
<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
<Источник>СправочникСсылка.Пользователи</Источник>
<Приемник>СправочникСсылка.Пользователи</Приемник>
<Свойства>
<Свойство Поиск="true">
<Код>1</Код>
<Наименование>Наименование --> Наименование</Наименование>
<Порядок>50</Порядок>
<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
<Правило>
<Код>СтатьиДвиженияДенежныхСредств</Код>
<Наименование>Справочник: Статьи движения денежных средств</Наименование>
<Порядок>400</Порядок>
<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
<Свойства>
<Свойство Поиск="true">
<Код>1</Код>
<Наименование>Код --> Код</Наименование>
<Порядок>50</Порядок>
<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>2</Код>
<Наименование>Наименование --> Наименование</Наименование>
<Порядок>100</Порядок>
<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>3</Код>
<Наименование>Родитель --> Родитель</Наименование>
<Порядок>150</Порядок>
<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств </КодПравилаКонвертации>
</Свойство>
<Свойство Поиск="true" Обязательное="true">
<Код>4</Код>
<Наименование>ЭтоГруппа --> ЭтоГруппа</Наименование>
<Порядок>200</Порядок>
<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
</Группа>
<Группа>
<Код>Перечисления</Код>
<Наименование>Перечисления</Наименование>
<Порядок>100</Порядок>
<Правило>
<Код>ВидыДоговоровКонтрагентов</Код>
<Наименование>Перечисление: Виды договоров контрагентов</Наименование>
<Порядок>50</Порядок>
<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
<Приемник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Приемник>
<Свойства/>
<Значения>
<Значение>
<Код>1</Код>
<Наименование>СПокупателем --> СПокупателем</Наименование>
<Порядок>50</Порядок>
<Источник>СПокупателем</Источник>
<Приемник>СПокупателем</Приемник>
</Значение>
<Значение>
<Код>2</Код>
<Наименование>СПоставщиком --> СПоставщиком</Наименование>
<Порядок>100</Порядок>
<Источник>СПоставщиком</Источник>
<Приемник>СПоставщиком</Приемник>
</Значение>
</Значения>
</Правило>
</Группа>
<Группа>
<Код>Документы</Код>
<Наименование>Документы</Наименование>
<Порядок>200</Порядок>
<Правило>
<Код>ПоступлениеНаРасчетныйСчет</Код>
<Наименование>Документ: Платежное поручение входящее</Наименование>
<Порядок>50</Порядок>
<ПередВыгрузкой>Если Источник.Оплачено = Ложь Тогда Отказ = истина; КонецЕСли;</ПередВыгрузкой>
<ПриЗагрузке>Если ОбъектНайден ТОгда // Сообщить("Объект Найден "+Объект ); Если Объект.Дата<Дата(2019,11,01) ТОгда НеЗамещатьОбъект =Истина; КонецЕсли; Если Объект.Ссылка.Проведен Тогда // Сообщить("Объект не замещать "+Объект ); НеЗамещатьОбъект =Истина; КонецЕсли; КонецЕсли;</ПриЗагрузке>
<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.ВидОперации) Тогда Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ОплатаПокупателя; КонецЕсли; Объект.СчетБанк = ПланыСчетов.Хозрасчетный.ТекущиеСчетаВНациональнойВалюте; Объект.Проведен = Ложь; Если Объект.РасшифровкаПлатежа.Количество() > 0 Тогда Объект.РасшифровкаПлатежа[0].СтавкаНДС = Перечисления.СтавкиНДС.БезНДС; Если Не ЗначениеЗаполнено(Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом) Тогда Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПокупателями; КонецЕсли; Объект.РасшифровкаПлатежа[0].СуммаПлатежа = Объект.СуммаДокумента; Если Не ЗначениеЗаполнено(Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств) Тогда Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств = Объект.СтатьяДвиженияДенежныхСредств; КонецЕсли; Иначе НоваяСтрокаТЧ = Объект.РасшифровкаПлатежа.Добавить(); НоваяСтрокаТЧ.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС; НоваяСтрокаТЧ.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПокупателями; НоваяСтрокаТЧ.СуммаПлатежа = Объект.СуммаДокумента; НоваяСтрокаТЧ.СтатьяДвиженияДенежныхСредств = Объект.СтатьяДвиженияДенежныхСредств; КонецЕсли; Если Не ЗначениеЗаполнено(Объект.ДоговорКонтрагента) Тогда Запрос = Новый Запрос; Запрос.УстановитьПараметр("Контрагент", Объект.Контрагент); Запрос.УстановитьПараметр("ВидДоговора", Перечисления.ВидыДоговоровКонтрагентов.СПокупателем); Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1 | ДоговорыКонтрагентов.Ссылка |ИЗ | Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов |ГДЕ | ДоговорыКонтрагентов.Владелец = &Контрагент | И ДоговорыКонтрагентов.ВидДоговора = &ВидДоговора"; РезультатЗапроса = Запрос.Выполнить().Выбрать(); Если РезультатЗапроса.Следующий() Тогда Объект.ДоговорКонтрагента = РезультатЗапроса.Ссылка; КонецЕсли; КонецЕсли;</ПослеЗагрузки>
<НеЗамещать>true</НеЗамещать>
<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
<Источник>ДокументСсылка.ПлатежноеПоручениеВходящее</Источник>
<Приемник>ДокументСсылка.ПоступлениеНаРасчетныйСчет</Приемник>
<Свойства>
<Свойство>
<Код>1</Код>
<Наименование>ВалютаДокумента --> ВалютаДокумента</Наименование>
<Порядок>50</Порядок>
<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
<КодПравилаКонвертации>Валюты </КодПравилаКонвертации>
</Свойство>
<Свойство Поиск="true">
<Код>3</Код>
<Наименование>Дата --> Дата</Наименование>
<Порядок>150</Порядок>
<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
</Свойство>
<Свойство>
<Код>5</Код>
<Наименование>ДокументОснование --> ДокументОснование</Наименование>
<Порядок>150</Порядок>
<Источник Имя="ДокументОснование" Вид="Реквизит"/>
<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
</Свойство>
<Свойство>
<Код>6</Код>
<Наименование>Комментарий --> Комментарий</Наименование>
<Порядок>300</Порядок>
<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>7</Код>
<Наименование>Контрагент --> Контрагент</Наименование>
<Порядок>350</Порядок>
<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
<КодПравилаКонвертации>Контрагенты </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>8</Код>
<Наименование>НазначениеПлатежа --> НазначениеПлатежа</Наименование>
<Порядок>400</Порядок>
<Источник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство Поиск="true">
<Код>9</Код>
<Наименование>Номер --> Номер</Наименование>
<Порядок>450</Порядок>
<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
<ПриводитьКДлине>11</ПриводитьКДлине>
</Свойство>
<Свойство>
<Код>10</Код>
<Наименование>Организация --> Организация</Наименование>
<Порядок>500</Порядок>
<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
<КодПравилаКонвертации>Организации </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>11</Код>
<Наименование>Ответственный --> Ответственный</Наименование>
<Порядок>550</Порядок>
<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
<КодПравилаКонвертации>Пользователи </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>12</Код>
<Наименование>ПометкаУдаления --> ПометкаУдаления</Наименование>
<Порядок>600</Порядок>
<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
</Свойство>
<Свойство>
<Код>13</Код>
<Наименование>Проведен --> Проведен</Наименование>
<Порядок>650</Порядок>
<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
</Свойство>
<Свойство>
<Код>14</Код>
<Наименование>СтатьяДвиженияДенежныхСредств --> СтатьяДвиженияДенежныхСредств</Наименование>
<Порядок>700</Порядок>
<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>15</Код>
<Наименование>СуммаДокумента --> СуммаДокумента</Наименование>
<Порядок>750</Порядок>
<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
</Свойство>
<Свойство>
<Код>16</Код>
<Наименование>СчетКонтрагента --> СчетКонтрагента</Наименование>
<Порядок>800</Порядок>
<Источник Имя="СчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<Приемник Имя="СчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<КодПравилаКонвертации>БанковскиеСчета </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>17</Код>
<Наименование>СчетОрганизации --> СчетОрганизации</Наименование>
<Порядок>850</Порядок>
<Источник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<Приемник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<КодПравилаКонвертации>БанковскиеСчета </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>18</Код>
<Наименование>БанковскийНомер --> НомерВходящегоДокумента</Наименование>
<Порядок>900</Порядок>
<Источник Имя="БанковскийНомер" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>20</Код>
<Наименование>Дата --> ДатаВыписки</Наименование>
<Порядок>950</Порядок>
<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
<Приемник Имя="ДатаВыписки" Вид="Реквизит" Тип="Дата"/>
<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ДатаОплаты) Тогда Значение =Источник.ДатаОплаты; Иначе Значение =Источник.Дата; КонецЕСли;</ПередВыгрузкой>
</Свойство>
<Свойство>
<Код>19</Код>
<Наименование>ДатаОплаты --> Дата</Наименование>
<Порядок>950</Порядок>
<Источник Имя="ДатаОплаты" Вид="Реквизит" Тип="Дата"/>
<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
<Правило>
<Код>СписаниеСРасчетногоСчета</Код>
<Наименование>Документ: Платежное поручение исходящее</Наименование>
<Порядок>100</Порядок>
<ПередВыгрузкой> Если Источник.Оплачено = Ложь Тогда Отказ = истина; КонецЕСли;</ПередВыгрузкой>
<ПриЗагрузке>Если ОбъектНайден ТОгда Если Объект.Дата<Дата(2019,11,01) ТОгда НеЗамещатьОбъект =Истина; КонецЕсли; Если Объект.Ссылка.Проведен Тогда НеЗамещатьОбъект =Истина; КонецЕсли; КонецЕсли;</ПриЗагрузке>
<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.ВидОперации) Тогда Объект.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ОплатаПоставщику; КонецЕсли; Объект.СчетБанк = ПланыСчетов.Хозрасчетный.ТекущиеСчетаВНациональнойВалюте; Объект.Проведен = Ложь; Если Объект.РасшифровкаПлатежа.Количество() > 0 Тогда Объект.РасшифровкаПлатежа[0].СтавкаНДС = Перечисления.СтавкиНДС.БезНДС; Если Не ЗначениеЗаполнено(Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом) Тогда Объект.РасшифровкаПлатежа[0].СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПокупателями; КонецЕсли; Объект.РасшифровкаПлатежа[0].СуммаПлатежа = Объект.СуммаДокумента; Если Не ЗначениеЗаполнено(Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств) Тогда Объект.РасшифровкаПлатежа[0].СтатьяДвиженияДенежныхСредств = Объект.СтатьяДвиженияДенежныхСредств; КонецЕсли; Иначе НоваяСтрокаТЧ = Объект.РасшифровкаПлатежа.Добавить(); НоваяСтрокаТЧ.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС; НоваяСтрокаТЧ.СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.РасчетыСОтечественнымиПокупателями; НоваяСтрокаТЧ.СуммаПлатежа = Объект.СуммаДокумента; НоваяСтрокаТЧ.СтатьяДвиженияДенежныхСредств = Объект.СтатьяДвиженияДенежныхСредств; КонецЕсли; Если Не ЗначениеЗаполнено(Объект.ДоговорКонтрагента) Тогда Запрос = Новый Запрос; Запрос.УстановитьПараметр("Контрагент", Объект.Контрагент); Запрос.УстановитьПараметр("ВидДоговора", Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком); Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1 | ДоговорыКонтрагентов.Ссылка |ИЗ | Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов |ГДЕ | ДоговорыКонтрагентов.Владелец = &Контрагент | И ДоговорыКонтрагентов.ВидДоговора = &ВидДоговора"; РезультатЗапроса = Запрос.Выполнить().Выбрать(); Если РезультатЗапроса.Следующий() Тогда Объект.ДоговорКонтрагента = РезультатЗапроса.Ссылка; КонецЕсли; КонецЕсли;</ПослеЗагрузки>
<НеЗамещать>true</НеЗамещать>
<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
<Источник>ДокументСсылка.ПлатежноеПоручениеИсходящее</Источник>
<Приемник>ДокументСсылка.СписаниеСРасчетногоСчета</Приемник>
<Свойства>
<Свойство>
<Код>1</Код>
<Наименование>ВалютаДокумента --> ВалютаДокумента</Наименование>
<Порядок>50</Порядок>
<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
<КодПравилаКонвертации>Валюты </КодПравилаКонвертации>
</Свойство>
<Свойство Поиск="true">
<Код>3</Код>
<Наименование>Дата --> Дата</Наименование>
<Порядок>150</Порядок>
<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
</Свойство>
<Свойство>
<Код>5</Код>
<Наименование>ДокументОснование --> ДокументОснование</Наименование>
<Порядок>250</Порядок>
<Источник Имя="ДокументОснование" Вид="Реквизит" Тип="ДокументСсылка.ЗаявкаНаРасходованиеДенежныхСредств"/>
<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
</Свойство>
<Свойство>
<Код>6</Код>
<Наименование>Комментарий --> Комментарий</Наименование>
<Порядок>300</Порядок>
<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>7</Код>
<Наименование>Контрагент --> Контрагент</Наименование>
<Порядок>350</Порядок>
<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
<КодПравилаКонвертации>Контрагенты </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>8</Код>
<Наименование>НазначениеПлатежа --> НазначениеПлатежа</Наименование>
<Порядок>400</Порядок>
<Источник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="НазначениеПлатежа" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство Поиск="true">
<Код>9</Код>
<Наименование>Номер --> Номер</Наименование>
<Порядок>450</Порядок>
<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
<ПриводитьКДлине>11</ПриводитьКДлине>
</Свойство>
<Свойство>
<Код>10</Код>
<Наименование>Организация --> Организация</Наименование>
<Порядок>500</Порядок>
<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
<КодПравилаКонвертации>Организации </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>11</Код>
<Наименование>Ответственный --> Ответственный</Наименование>
<Порядок>550</Порядок>
<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
<КодПравилаКонвертации>Пользователи </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>12</Код>
<Наименование>ПометкаУдаления --> ПометкаУдаления</Наименование>
<Порядок>600</Порядок>
<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
</Свойство>
<Свойство>
<Код>13</Код>
<Наименование>Проведен --> Проведен</Наименование>
<Порядок>650</Порядок>
<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
</Свойство>
<Свойство>
<Код>14</Код>
<Наименование>СтатьяДвиженияДенежныхСредств --> СтатьяДвиженияДенежныхСредств</Наименование>
<Порядок>700</Порядок>
<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>15</Код>
<Наименование>СуммаДокумента --> СуммаДокумента</Наименование>
<Порядок>750</Порядок>
<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
</Свойство>
<Свойство>
<Код>16</Код>
<Наименование>СчетКонтрагента --> СчетКонтрагента</Наименование>
<Порядок>800</Порядок>
<Источник Имя="СчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<Приемник Имя="СчетКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<КодПравилаКонвертации>БанковскиеСчета </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>18</Код>
<Наименование>БанковскийНомер --> НомерВходящегоДокумента</Наименование>
<Порядок>850</Порядок>
<Источник Имя="БанковскийНомер" Вид="Реквизит" Тип="Строка"/>
<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
</Свойство>
<Свойство>
<Код>17</Код>
<Наименование>СчетОрганизации --> СчетОрганизации</Наименование>
<Порядок>850</Порядок>
<Источник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<Приемник Имя="СчетОрганизации" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
<КодПравилаКонвертации>БанковскиеСчета </КодПравилаКонвертации>
</Свойство>
<Свойство>
<Код>19</Код>
<Наименование>Дата --> ДатаВыписки</Наименование>
<Порядок>900</Порядок>
<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
<Приемник Имя="ДатаВыписки" Вид="Реквизит" Тип="Дата"/>
</Свойство>
</Свойства>
<Значения/>
</Правило>
</Группа>
</ПравилаКонвертацииОбъектов>
<ПравилаВыгрузкиДанных>
<Группа Отключить="false">
<Код>Документы</Код>
<Наименование>Документы</Наименование>
<Порядок>50</Порядок>
<Правило Отключить="false">
<Код>ПлатежноеПоручениеВходящее</Код>
<Наименование>ПлатежноеПоручениеВходящее</Наименование>
<Порядок>50</Порядок>
<КодПравилаКонвертации>ПоступлениеНаРасчетныйСчет </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>ДокументСсылка.ПлатежноеПоручениеВходящее</ОбъектВыборки>
</Правило>
<Правило Отключить="false">
<Код>ПлатежноеПоручениеИсходящее</Код>
<Наименование>ПлатежноеПоручениеИсходящее</Наименование>
<Порядок>100</Порядок>
<КодПравилаКонвертации>СписаниеСРасчетногоСчета </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>ДокументСсылка.ПлатежноеПоручениеИсходящее</ОбъектВыборки>
</Правило>
</Группа>
<Группа Отключить="false">
<Код>Справочники</Код>
<Наименование>Справочники</Наименование>
<Порядок>100</Порядок>
<Правило Отключить="false">
<Код>Валюты</Код>
<Наименование>Валюты</Наименование>
<Порядок>50</Порядок>
<КодПравилаКонвертации>Валюты </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
</Правило>
<Правило Отключить="false">
<Код>ДоговорыКонтрагентов</Код>
<Наименование>ДоговорыКонтрагентов</Наименование>
<Порядок>100</Порядок>
<КодПравилаКонвертации>ДоговорыКонтрагентов </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>СправочникСсылка.ДоговорыКонтрагентов</ОбъектВыборки>
</Правило>
<Правило Отключить="false">
<Код>Контрагенты</Код>
<Наименование>Контрагенты</Наименование>
<Порядок>150</Порядок>
<КодПравилаКонвертации>Контрагенты </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
</Правило>
<Правило Отключить="false">
<Код>Организации</Код>
<Наименование>Организации</Наименование>
<Порядок>200</Порядок>
<КодПравилаКонвертации>Организации </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>СправочникСсылка.Организации</ОбъектВыборки>
</Правило>
<Правило Отключить="false">
<Код>Пользователи</Код>
<Наименование>Пользователи</Наименование>
<Порядок>250</Порядок>
<КодПравилаКонвертации>Пользователи </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
</Правило>
<Правило Отключить="false">
<Код>СтатьиДвиженияДенежныхСредств</Код>
<Наименование>СтатьиДвиженияДенежныхСредств</Наименование>
<Порядок>300</Порядок>
<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>СправочникСсылка.СтатьиДвиженияДенежныхСредств</ОбъектВыборки>
</Правило>
<Правило Отключить="false">
<Код>БанковскиеСчета</Код>
<Наименование>БанковскиеСчета</Наименование>
<Порядок>350</Порядок>
<КодПравилаКонвертации>БанковскиеСчета </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>СправочникСсылка.БанковскиеСчета</ОбъектВыборки>
</Правило>
<Правило Отключить="false">
<Код>Банки</Код>
<Наименование>Банки</Наименование>
<Порядок>400</Порядок>
<КодПравилаКонвертации>Банки </КодПравилаКонвертации>
<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
<ОбъектВыборки>СправочникСсылка.Банки</ОбъектВыборки>
</Правило>
</Группа>
</ПравилаВыгрузкиДанных>
<ПравилаОчисткиДанных/>
<Алгоритмы/>
<Запросы/>
</ПравилаОбмена>