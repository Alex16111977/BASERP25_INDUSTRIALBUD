
&НаКлиенте
Процедура РольПриИзменении(Элемент)
	ОраничитьТипПодразделение();
КонецПроцедуры

&НаСервере
Процедура ОраничитьТипПодразделение()
	
	Если Запись.Роль.ВидАдресации = Перечисления.ВидыАдресацийРолейВизирования.ПоОрганизации Тогда 
		ЭтаФорма.Элементы.Подразделение.ОграничениеТипа = Новый ОписаниеТипов("СправочникСсылка.Организации");
		ЭтаФорма.Элементы.Подразделение.Заголовок		= "Организации";                                      
	ИначеЕсли Запись.Роль.ВидАдресации = Перечисления.ВидыАдресацийРолейВизирования.ПоНаправлению Тогда 
		ЭтаФорма.Элементы.Подразделение.ОграничениеТипа = Новый ОписаниеТипов("СправочникСсылка.Направления");
		ЭтаФорма.Элементы.Подразделение.Заголовок		= "Направления";
	Иначе //Подразделение 
		ЭтаФорма.Элементы.Подразделение.ОграничениеТипа = Новый ОписаниеТипов("СправочникСсылка.Подразделения");
		ЭтаФорма.Элементы.Подразделение.Заголовок		= "Подразделения";
	КонецЕсли;
	
	Запись.Объект = ЭтаФорма.Элементы.Подразделение.ОграничениеТипа.ПривестиЗначение(Запись.Объект);
КонецПроцедуры
