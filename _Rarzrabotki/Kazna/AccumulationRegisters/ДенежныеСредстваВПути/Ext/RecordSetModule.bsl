Процедура ВыполнитьДвижение(Объект, ВидДвижения)
	
	МетаданныеОбъекта = Объект.Метаданные();
	
	НоваяСтрока = Добавить();
	НоваяСтрока.Период = Объект.Дата;
	НоваяСтрока.ВидДвижения = ВидДвижения;
	НоваяСтрока.Местонахождение = Объект.Контрагент;
	НоваяСтрока.Организация = Объект.Организация;	
	НоваяСтрока.Валюта = Объект.ВалютаДокумента;
	НоваяСтрока.Сумма = Объект.СуммаДокумента;
	
	Если МетаданныеОбъекта.Реквизиты.Найти("Подразделение")<>Неопределено Тогда
		НоваяСтрока.Подразделение = Объект.Подразделение;
	КонецЕсли;	
	
	Если ВидДвижения=ВидДвиженияНакопления.Приход Тогда
		Если  Объект.Оплачено Тогда
			Если НачалоДня(Объект.Дата)=НачалоДня(Объект.ДатаОплаты) Тогда
				 НоваяСтрока.Период = Объект.Дата;
			Иначе	
			     НоваяСтрока.Период = Объект.ДатаОплаты;
			КонецЕсли;
			
		Иначе
			НоваяСтрока.План = Истина; 
		КонецЕсли;
	КонецЕсли;
	
	Записывать = Истина;
	
КонецПроцедуры

Процедура ВыполнитьПриход(Объект) Экспорт
	
	ВыполнитьДвижение(Объект, ВидДвиженияНакопления.Приход);
	
КонецПроцедуры

Процедура ВыполнитьРасход(Объект) Экспорт
	
	ВыполнитьДвижение(Объект, ВидДвиженияНакопления.Расход);
	
КонецПроцедуры