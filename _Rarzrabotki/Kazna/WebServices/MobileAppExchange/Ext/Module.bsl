
Функция Ping()
	
	Возврат "Connection established";
	
КонецФункции

Функция UploadData(ClientId)
	
	МобильноеУстройство	= АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьМобильноеУстройствоПоИдентификатору(ClientId);
	
	Если Не МобильноеУстройство = Неопределено Тогда
		Возврат АХ_МобильныеУстройстваОбщегоНазначения.СоздатьПакетДанныхДляМобильногоУстройства(МобильноеУстройство);
	КонецЕсли;
	
КонецФункции

Функция RegisterDataReception(ClientID, MessageNumber)
	
	
	МобильноеУстройство	= АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьМобильноеУстройствоПоИдентификатору(ClientId);
	
	Если Не МобильноеУстройство = Неопределено Тогда
		АХ_МобильныеУстройстваОбщегоНазначения.ЗарегистрироватьПриемДанныхОтМобильногоУстройства(МобильноеУстройство, MessageNumber);	
		Возврат Истина;
	Иначе 
		Возврат Ложь;
	КонецЕсли;	
	
КонецФункции

Функция RegisterDevice(ClientID, DeviceName)

	МобильноеУстройство	= АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьМобильноеУстройствоПоИдентификатору(ClientId);

	Если Не МобильноеУстройство = Неопределено Тогда
		Возврат "Fail_RegisteredDevice"
	Иначе
		Если АХ_МобильныеУстройстваОбщегоНазначения.ЗарегистрироватьМобильноеУстройство(ClientID, DeviceName) Тогда
			Возврат "Success";
		Иначе                 
			Возврат "Fail_RegistrationFailed";
		КонецЕсли;
	КонецЕсли;
	
КонецФункции

Функция ChangeVisaState(ClientID, DocUID, State)
	
	МобильноеУстройство	= АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьМобильноеУстройствоПоИдентификатору(ClientId);

	Если МобильноеУстройство = Неопределено Тогда
		Возврат "Fail_UnregisteredDevice"
	Иначе
		Если АХ_МобильныеУстройстваОбщегоНазначения.ИзменитьСостояниеВизы(МобильноеУстройство, DocUID, State) Тогда
			Возврат "Success";
		Иначе
			Возврат "Fail"
		КонецЕсли;
	КонецЕсли;
	
КонецФункции

Функция GetReportBDDS(Variant, DivisionID, BegginnigDate, EndDate)

	Возврат АХ_МобильныеУстройстваОбщегоНазначения.СформироватьОтчетБДДС(Variant, DivisionID, BegginnigDate, EndDate);
	
КонецФункции

Функция GetDivisionCatalogData(ClientID, Parent)
	
	МобильноеУстройство	= АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьМобильноеУстройствоПоИдентификатору(ClientId);

	Если МобильноеУстройство = Неопределено Тогда
		Возврат "Fail_UnregisteredDevice"
	Иначе
		Возврат АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьСтруктуруСправочникаПодразделения(МобильноеУстройство, Parent);
	КонецЕсли;
	
КонецФункции

Функция GetReportVariants(ReportName)
	
	Возврат АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьВариантыОтчета(ReportName);
	
КонецФункции


Функция GetParent(CatalogName, ElementID)
	
	Возврат АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьРодителя(CatalogName, ElementID);
	
КонецФункции

Функция GetCatalogData(ClientID, CatalogName, Parent)
	
	МобильноеУстройство	= АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьМобильноеУстройствоПоИдентификатору(ClientId);

	Если МобильноеУстройство = Неопределено Тогда
		Возврат "Fail_UnregisteredDevice"
	Иначе
		Возврат АХ_МобильныеУстройстваОбщегоНазначения.ПолучитьСтруктуруСправочника(CatalogName, Parent);
	КонецЕсли;
	
КонецФункции

