
&НаСервере
Процедура ЗаменитьНаСервере()

	Для Каждого СсылкаНаДокумент Из СписокДокументов Цикл
		ДокументОбъект	= СсылкаНаДокумент.Значение.ПолучитьОбъект();
		Если ИзменятьПодразделение Тогда  	
			ДокументОбъект.Подразделение					= Подразделение;
		КонецЕсли;
		Если ИзменятьСДДС Тогда
			ДокументОбъект.СтатьяДвиженияДенежныхСредств	= СДДС;
		КонецЕсли;
		
		ДокументОбъект.Записать(?(ДокументОбъект.Проведен, РежимЗаписиДокумента.Проведение, РежимЗаписиДокумента.Запись));
	КонецЦикла;
	
КонецПроцедуры

&НаКлиенте
Процедура Заменить(Команда)
	
	ЗаменитьНаСервере();
	Закрыть();
	
КонецПроцедуры

&НаКлиенте
Процедура УстановитьВидимостьДоступность()
	
	Элементы.Подразделение.Доступность	= ИзменятьПодразделение;
	
	Элементы.СДДС.Доступность			= ИзменятьСДДС;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриИзмененииСостоянияФлажка(Элемент)
	
	УстановитьВидимостьДоступность();
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("СписокДокументов") Тогда
		Для Каждого СсылкаНаДокумент Из Параметры.СписокДокументов Цикл
			СписокДокументов.Добавить(СсылкаНаДокумент);
		КонецЦикла;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	УстановитьВидимостьДоступность();
	
КонецПроцедуры
