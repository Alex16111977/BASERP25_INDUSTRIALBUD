=== РЕЗУЛЬТАТ КРОКУ 3: ЗІСТАВЛЕННЯ ДОВІДНИКІВ ===
Дата аналізу: 2025-11-29

ПРИМІТКА: Реквізит ИдКод не знайдено в жодній базі.
Для зіставлення буде використовуватися стандартний реквізит Код.

НОМЕНКЛАТУРА:
  База BuhBud:
    - Довідник: Catalogs.Номенклатура
    - Код: String(11), фіксована довжина
    - Наименование: String(100)
    - Ієрархічний: Так (Папки і Елементи)
    - Реквізити: НаименованиеПолное, Артикул, БазоваяЕдиницаИзмерения, СтавкаНДС, НоменклатурнаяГруппа, Услуга

  База BASERP25:
    - Довідник: Catalogs.Номенклатура
    - Код: String (визначено в конфігурації)
    - Ієрархічний: Так
    - Реквізити: ВидНоменклатуры, ЕдиницаИзмерения, Артикул, НаименованиеПолное, та інші

  Метод зіставлення - по Коду:
    НоменклатураЕРП = Справочники.Номенклатура.НайтиПоКоду(СокрЛП(Номенклатура_Бух.Код));

СКЛАДЫ:
  База BuhBud:
    - Довідник: Catalogs.Склады
    - Код: String(9), фіксована довжина
    - Наименование: String(50)
    - Ієрархічний: Так (Папки і Елементи)
    - Реквізити: ТипСклада, ТипЦенРозничнойТорговли, Контрагент, Местонахождение

  База BASERP25:
    - Довідник: Catalogs.Склады
    - Код: String (визначено в конфігурації)
    - Ієрархічний: Так

  Метод зіставлення - по Коду:
    СкладЕРП = Справочники.Склады.НайтиПоКоду(СокрЛП(Склад_Бух.Код));

ВАЖЛИВО - СУБКОНТО В BuhBud:
Згідно з типовою структурою субконто регістра Хозрасчетный:
- Субконто1: зазвичай Номенклатура (тип: Справочники.Номенклатура)
- Субконто2: зазвичай Склады або Партия (тип: залежить від налаштувань рахунку)
- Субконто3: додаткова аналітика (при наявності)

Для рахунків запасів (20, 22, 26, 28 та субрахунки):
- Субконто1 = Номенклатура
- Субконто2 = Склады (для рахунків складського обліку типу 281)

ПОРЯДОК ЗІСТАВЛЕННЯ В КОДІ:
1. Отримати значення субконто з запиту BuhBud
2. Перевести в рядок через ЗначениеВСтрокуВнутр() для передачі через COM
3. В ERP знайти відповідний елемент довідника по Коду
4. Якщо не знайдено - записати в лог помилок або пропустити рядок

КОД ЗІСТАВЛЕННЯ НОМЕНКЛАТУРИ:
// В запиті з BuhBud додати:
// Остатки.Субконто1.Код КАК НоменклатураКод

// При обробці в ERP:
НоменклатураЕРП = Справочники.Номенклатура.НайтиПоКоду(СокрЛП(СтрокаТЗ.НоменклатураКод));
Если ЗначениеЗаполнено(НоменклатураЕРП) Тогда
    НоваяСтрока.Номенклатура = НоменклатураЕРП;
Иначе
    // Логування помилки
КонецЕсли;

КОД ЗІСТАВЛЕННЯ СКЛАДІВ:
// В запиті з BuhBud додати:
// Остатки.Субконто2.Код КАК СкладКод

// При обробці в ERP:
СкладЕРП = Справочники.Склады.НайтиПоКоду(СокрЛП(СтрокаТЗ.СкладКод));
